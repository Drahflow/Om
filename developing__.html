<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"
>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<title>Om: Developing</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
		<link href="doxygen.css" rel="stylesheet" type="text/css"/>
		<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
			<div id="titlearea">
				<table cellspacing="0" cellpadding="0">
					<tbody>
						<tr style="height: 56px;">
							<td id="projectlogo"><img alt="Logo" src="om_small.png"/></td>
							<td style="padding-left: 0.5em;">
								<div id="projectname">Om
								</div>
								<div id="projectbrief">A Simple Programming Language</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('developing__.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Developing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Om is written in modern, portable C++ that adheres to the <a href="http://sparist.github.com/cpp_coding_standard.html">Sparist C++ Coding Standard</a>.</p>
<p><b>Note:</b> Because this is an early-stage project, there are not yet any compatibility guarantees between versions.</p>
<h1><a class="anchor" id="developing__forking__"></a>
Forking</h1>
<p>Om code can be <a href="https://github.com/sparist/Om/fork">forked</a> from the <a href="https://github.com/sparist/Om">Om GitHub repository</a>.</p>
<h1><a class="anchor" id="developing__building__"></a>
Building</h1>
<p>See <a class="el" href="using_code__.html">Using the Code</a> for instructions on building the code.</p>
<h1><a class="anchor" id="developing__adding_or_removing_files"></a>
Adding or Removing Files</h1>
<p>When adding or removing files from source, run the <code>"generate"</code> script in the root directory to update the project.</p>
<h1><a class="anchor" id="developing__adding_operations__"></a>
Adding Operations</h1>
<p>Additional native functionality can be added to Om by implementing new operations in C++.</p>
<p>There are two ways to implement an operation: as a composite operation, or an atomic operation.</p>
<p>To implement a composite operation, or an atomic operation that consumes no operands:</p>
<ul>
<li>Define the operation <code>class</code> in the <code><a class="el" href="namespace_om_1_1_operations.html" title="A namespace for all Operations. ">Om::Operations</a></code> namespace.</li>
<li>Define the static <code>GetName()</code> method, which returns a <code>static char const *</code> containing the name.</li>
<li>Define the static <code>Give(<a class="el" href="class_om_1_1_evaluation.html" title="The current evaluation. ">Om::Evaluation</a> &amp;)</code> method, with no return value, to give existing operations and/or elements to the evaluation.</li>
</ul>
<p>To define an atomic operation that consumes one or more operands:</p>
<ul>
<li>Define the operation <code>class</code>, derived from <code><a class="el" href="class_om_1_1_default_operation.html" title="A partial implementation of Operation. ">Om::DefaultOperation</a>&lt;</code><em>operation</em><code>&gt;</code> (where <em>operation</em> is the name of the operation <code>class</code>), in the <code><a class="el" href="namespace_om_1_1_operations.html" title="A namespace for all Operations. ">Om::Operations</a></code> namespace.</li>
<li>Define the static <code>GetName()</code> method, which returns a <code>static char const *</code> containing the name.</li>
<li>Add the implementation, using existing operations as a guide:<ul>
<li>Implement the functions necessary to compile.</li>
<li>Optionally override virtual function implementations in <code><a class="el" href="class_om_1_1_default_operation.html" title="A partial implementation of Operation. ">Om::DefaultOperation</a></code>, such as <code><a class="el" href="class_om_1_1_default_operation.html#abca3e9aae438d420b5d4af0c8caf4b5f">Om::DefaultOperation::ReadQuotedElements</a></code>, that may be more optimally implemented in the operation.</li>
</ul>
</li>
</ul>
<p>For any operation implementation, code must be added to the operation header that inserts the operation into the system when the header is included, as follows (where <code>WhateverOperation</code> is a stand-in for the name of the operation <code>class</code>):</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>{</div>
<div class="line"></div>
<div class="line">    <span class="keyword">static</span> System::Definition&lt;WhateverOperation&gt; <span class="keyword">const</span> theWhateverDefinition;</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="developing__adding_programs__"></a>
Adding Programs</h1>
<p>New data types can be added to Om by extending <code><a class="el" href="class_om_1_1_program.html" title="The Program implementation. ">Om::Program</a></code> and defining the functions necessary to instantiate the class. Use existing programs as a guide.</p>
<p>Program types should be defined in the <code><a class="el" href="namespace_om.html" title="The Om language implementation. ">Om</a></code> namespace.</p>
<h1><a class="anchor" id="developing__analyzing_code__"></a>
Analyzing Code</h1>
<p>Some basic free static analysis tools can be applied to the Om code.</p>
<ul>
<li><a href="https://github.com/terryyin/hfcca"><b>HFCCA</b></a> is a Python script that measures cyclomatic complexity and counts the number of lines of code in C++ source files, not including comments or tests. If Python is installed and in the path, HFCCA can be applied to Om by entering the following at the terminal from inside the Om directory: <blockquote class="doxtable">
<p><code>python hfcca.py -p -v code</code></p>
</blockquote>
</li>
<li><a href="http://cloc.sourceforge.net"><b>CLOC</b></a> is a stand-alone Perl script that determines total line counts. If Perl is installed, CLOC can be applied to Om by entering the following at the terminal from inside the Om directory: <blockquote class="doxtable">
<p><code>cloc.pl code</code></p>
</blockquote>
</li>
</ul>
<h1><a class="anchor" id="developing__analyzing_tests__"></a>
Analyzing Test Coverage</h1>
<p>The Om.Test target of the Xcode project generates test coverage data that can be viewed as follows:</p>
<ul>
<li>Download and install <a href="http://code.google.com/p/coverstory/">CoverStory</a>. In Preferences, add <code>"*.ipp"</code> and <code>"*.hpp"</code> to the "SDK Files" list.</li>
<li>Build and run the Om.Test target.</li>
<li>In the CoverStory File menu, open the folder <code>"output/intermediate/Xcode/Om.build/<em>[configuration]</em>/Om.Test.build/Objects-normal/x86_64"</code>, where <em>[configuration]</em> is the build configuration (e.g. "Debug", "Release"). The main CoverStory window should be populated as follows:<ul>
<li>The left pane shows a list of Om source files, each accompanied by a test coverage percentage.</li>
<li>The right pane shows the contents of the currently selected source file, with each line annotated with the number of times it was executed.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="developing__submitting_changes__"></a>
Submitting Changes</h1>
<p>Changes can be submitted to Om via <a href="https://github.com/sparist/Om/pull/new/master">pull request</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
		<!-- start footer part -->
	</body>
</html>
